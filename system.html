<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="jquery.easy-ticker.min.js"></script>
    <link rel="stylesheet" href="main.css" />
</head>

<body>
    <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="modal-title w-100 font-weight-bold text-muted">Termizu</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body mx-3">
                    <div class="mb-5">
                        <input id="login_form_command" class="form-control validate" placeholder="Command" />
                        <div class="invalid-feedback">What did you mean?</div>
                    </div>

                    <div class="mb-4">
                        <input id="login_form_argv" class="form-control validate" placeholder="Argument" />
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button class="btn btn-lg btn-primary btn-block" id="login_btn">Submit</button>
                </div>
                <div id="stdout" class="alert alert-primary text-left text-muted" role="alert"></div>
            </div>
        </div>
    </div>
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column text-center">
        <header class="masthead">
            <div class="inner">
                <a href="/index.html">
                    <h3 class="masthead-brand">Mizuyoru TW</h3>
                </a>
                <div id="LoadingPage" class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <nav class="nav nav-masthead justify-content-center">
                    <a class="nav-link active" href="/index.html">Home</a>
                    <a class="nav-link" href="https://github.com/MizuyoruTW" target="_blank">Github</a>
                    <a class="nav-link" href="#">Twitter</a>
                </nav>
            </div>
        </header>


        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h1> Real Time System Moniter </h1>
                    <h5 id="NowTime">
                        <div class="spinner-border" role="status"></div>
                    </h5>
                    <div class="row p-3">
                        <div class="col-md-3">
                            <span class="badge badge-default">CPU LOAD:</span>
                        </div>
                        <div class="col-md-9">
                            <div class="progress">
                                <div id="cpu" class="progress-bar" style="width: 0%;">0% </div>
                            </div>
                        </div>
                    </div>
                    <div class="row p-3">
                        <div class="col-md-3">
                            <span class="badge badge-default">MEMORY USAGE:</span>
                        </div>
                        <div class="col-md-9">
                            <div class="progress">
                                <div id="mem-used" class="progress-bar bg-success" style="width: 0%;">0%
                                </div>
                                <div id="mem-swapped" class="progress-bar bg-info" style="width: 0%;">0%
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="main.js"></script>
</body>
<script>
    $(document).ready(function () {
        cpu = 0;
        mem_used = 20;
        mem_swap = 23;
        setInterval(function () {
            var dt = new Date();
            var time = dt.getHours() + ":" + dt.getMinutes() + ":" + dt.getSeconds();
            $('#NowTime').html("上次更新: " + time);
            do {
                tmp = Math.floor(Math.random() * 30) - 15 + cpu;
            } while (0 > tmp || tmp > 100)
            cpu = tmp;
            $('#cpu').html(cpu.toString() + '%');
            $('#cpu').css("width", cpu.toString() + '%');

            do {
                tmp = Math.floor(Math.random() * 4) - 1 + mem_used;
            } while (20 > tmp || tmp > 45)
            mem_used = tmp;
            $('#mem-used').html("used " + mem_used.toString() + '%');
            $('#mem-used').css("width", mem_used.toString() + '%');

            do {
                tmp = Math.floor(Math.random() * 4) - 2 + mem_swap;
            } while (23 > tmp || tmp > 45)
            mem_swap = tmp;
            $('#mem-swapped').html("swapped " + mem_swap.toString() + '%');
            $('#mem-swapped').css("width", mem_swap.toString() + '%');
        }, 3000);
    });
</script>

</html>